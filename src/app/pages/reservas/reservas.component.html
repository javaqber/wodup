<div class="reservas-container">
  <h2>Reservas del d√≠a</h2>

  <div *ngIf="!claseDeHoy" class="no-clases">
    <p>No hay clases programadas para hoy.</p>
  </div>

  <div *ngIf="claseDeHoy">
    <div class="franjas">
      <div
        *ngFor="let franja of franjas"
        [class.pasada]="franjaPasada(franja.inicio)"
        class="franja-item"
      >
        <div class="franja-hora">
          {{ franja.inicio }} - {{ franja.fin }}
        </div>

        <div class="franja-info">
          <p class="clase-nombre">{{ claseDeHoy.nombre }}</p>
          <p class="coach">Coach: {{ claseDeHoy.coachNombre || 'Sin asignar' }}</p>
          <p class="capacidad">
            Capacidad: {{ claseDeHoy.capacidad }}
          </p>
        </div>

        <div class="franja-acciones">
          <ng-container *ngIf="!franjaPasada(franja.inicio)">
            <button
              *ngIf="!estaReservado(claseDeHoy.id)"
              (click)="reservarClase(claseDeHoy.id)"
              class="btn-reservar"
            >
              Reservar
            </button>

            <button
              *ngIf="estaReservado(claseDeHoy.id)"
              (click)="cancelarReserva(claseDeHoy.id)"
              class="btn-cancelar"
            >
              Cancelar
            </button>
          </ng-container>

          <ng-container *ngIf="franjaPasada(franja.inicio)">
            <span class="pasada-texto">Finalizada</span>
          </ng-container>
        </div>
      </div>
    </div>
  </div>

  <p *ngIf="mensaje" class="mensaje-exito">{{ mensaje }}</p>
  <p *ngIf="error" class="mensaje-error">{{ error }}</p>
</div>
